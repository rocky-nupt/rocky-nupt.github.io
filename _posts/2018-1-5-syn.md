---
layout: post
title: 同步、异步、阻塞、非阻塞
---

简单解释

个人理解，同步异步指的是一个过程，而阻塞非阻塞指的是一个状态。<br />
异步三种返回方式：看状态、通知、回调函数<br />
<br />
同步阻塞：等待函数返回时不做任何事情，线程被挂起。<br />
同步非阻塞：等待函数返回时可以做别的事情，但是必须同时注意函数是否返回。<br />
异步阻塞：不等待函数返回，注册回调但也不能做别的事情，线程被挂起。<br />
异步非阻塞：不等待函数返回，注册回调后专心去做别的事情，完全不关注之前的执行情况。<br />
<br />
知乎上一个有趣的解释：<br />
老张爱喝茶，废话不说，煮开水。<br />
出场人物：老张，水壶两把（普通水壶，简称水壶；会响的水壶，简称响水壶）。<br />
1、 老张把水壶放到火上，立等水开。（同步阻塞）<br />
老张觉得自己有点傻<br />
2、 老张把水壶放到火上，去客厅看电视，时不时去厨房看看水开没有。（同步非阻塞）<br />
老张还是觉得自己有点傻，于是变高端了，买了把会响笛的那种水壶。水开之后，能大声发出嘀~~~~的噪音。<br />
3、 老张把响水壶放到火上，立等水开。（异步阻塞）<br />
老张觉得这样傻等意义不大<br />
4、 老张把响水壶放到火上，去客厅看电视，水壶响之前不再去看它了，响了再去拿壶。（异步非阻塞）<br />
老张觉得自己聪明了。<br />
<br />
所谓同步异步，只是对于水壶而言。<br />
普通水壶，同步；响水壶，异步。<br />
虽然都能干活，但响水壶可以在自己完工之后，提示老张水开了。这是普通水壶所不能及的。<br />
同步只能让调用者去轮询自己（情况2中），造成老张效率的低下。<br />
所谓阻塞非阻塞，仅仅对于老张而言。<br />
立等的老张，阻塞；看电视的老张，非阻塞。<br />
情况1和情况3中老张就是阻塞的，媳妇喊他都不知道。虽然3中响水壶是异步的，可对于立等的老张没有太大的意义。所以一般异步是配合非阻塞使用的，这样才能发挥异步的效用。


